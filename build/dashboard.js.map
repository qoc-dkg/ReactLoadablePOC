{"version":3,"sources":["webpack:///./src/Dashboard/index.js","webpack:///./src/common/actions/session.js?4b45","webpack:///./src/common/actions/types.js?7db1"],"names":["Dashboard","handleSubmit","event","preventDefault","props","logout","Component","mapStateToProps","checkSession","get","then","response","dispatch","type","login","username","password","post","data","console","log","catch","payload","err","message","SESSION_START","SESSION_END","SESSION_START_FAILED","SET_USER"],"mappings":";;;;;;;;;;;;;;AAAA;;AACA;;;;AACA;;;;;;;;;;IAEMA,S;;;;;;;;;;;;;;4LACJC,Y,GAAe,iBAAS;AACtBC,YAAMC,cAAN;AACA,YAAKC,KAAL,CAAWC,MAAX;AACD,K;;;;;6BACS;AACR,aACE;AAAA;AAAA;AACE;AAAA;AAAA,YAAM,UAAU,KAAKJ,YAArB;AACE;AAAA;AAAA;AAAA;AAAA;AADF;AADF,OADF;AAOD;;;;EAbqB,gBAAMK,S;;AAgB9B,IAAMC,kBAAkB,SAAlBA,eAAkB,GAAM;AAC5B,SAAO,EAAP;AACD,CAFD;kBAGe,yBAAQA,eAAR,EAAyB,EAACF,uBAAD,EAAzB,EAAmCL,SAAnC,C;;;;;;;;;;;;;;;ACvBf;;;;AACA;;;;AAMO,IAAMQ,sCAAe,SAAfA,YAAe;AAAA,SAAM,oBAAY;AAC5C,WAAO,gBAAMC,GAAN,CAAU,oBAAV,EACJC,IADI,CACC,oBAAY;AAChB,UAAIC,aAAa,YAAjB,EAA+B;AAC7BC,iBAAS;AACPC;AADO,SAAT;AAGD,OAJD,MAIO;AACLD,iBAAS;AACPC;AADO,SAAT;AAGD;AACF,KAXI,CAAP;AAYD,GAb2B;AAAA,CAArB;;AAeA,IAAMC,wBAAQ,SAARA,KAAQ,CAACC,QAAD,EAAWC,QAAX;AAAA,SAAwB,oBAAY;AACvD,WAAO,gBAAMC,IAAN,CAAW,YAAX,EAAyB,EAACF,kBAAD,EAAWC,kBAAX,EAAzB,EACJN,IADI,CACC,gBAAY;AAAA,UAAVQ,IAAU,QAAVA,IAAU;;AAChBC,cAAQC,GAAR,CAAYF,IAAZ;AACAN,eAAS;AACPC;AADO,OAAT;AAGD,KANI,EAOJQ,KAPI,CAOE,eAAO;AACZT,eAAS;AACPC,yCADO;AAEPS,iBAASC,IAAIC,OAAJ,IAAe;AAFjB,OAAT;AAID,KAZI,CAAP;AAaD,GAdoB;AAAA,CAAd;;AAgBA,IAAMnB,0BAAS,SAATA,MAAS;AAAA,SAAM,oBAAY;AACtC,WAAO,gBAAMY,IAAN,CAAW,aAAX,EACJP,IADI,CACC,oBAAY;AAChBE,eAAS;AACPC;AADO,OAAT;AAGD,KALI,CAAP;AAMD,GAPqB;AAAA,CAAf,C;;;;;;;;;;;;;ACtCA,IAAMY,wCAAgB,eAAtB;AACA,IAAMC,oCAAc,aAApB;AACA,IAAMC,sDAAuB,sBAA7B;AACA,IAAMC,8BAAW,UAAjB,C","file":"dashboard.js","sourcesContent":["import {connect} from 'react-redux'\nimport React from 'react'\nimport {logout} from 'common/actions/session'\n\nclass Dashboard extends React.Component {\n  handleSubmit = event => {\n    event.preventDefault()\n    this.props.logout()\n  }\n  render () {\n    return (\n      <div>\n        <form onSubmit={this.handleSubmit}>\n          <button>logout</button>\n        </form>\n      </div>\n    )\n  }\n}\n\nconst mapStateToProps = () => {\n  return {}\n}\nexport default connect(mapStateToProps, {logout})(Dashboard)\n\n\n\n// WEBPACK FOOTER //\n// ./src/Dashboard/index.js","import axios from 'axios'\nimport {\n  SESSION_START,\n  SESSION_END,\n  SESSION_START_FAILED\n} from './types'\n\nexport const checkSession = () => dispatch => {\n  return axios.get('/api/check-session')\n    .then(response => {\n      if (response === 'hasSession') {\n        dispatch({\n          type: SESSION_START\n        })\n      } else {\n        dispatch({\n          type: SESSION_END\n        })\n      }\n    })\n}\n\nexport const login = (username, password) => dispatch => {\n  return axios.post('/api/login', {username, password})\n    .then(({data}) => {\n      console.log(data)\n      dispatch({\n        type: SESSION_START\n      })\n    })\n    .catch(err => {\n      dispatch({\n        type: SESSION_START_FAILED,\n        payload: err.message || 'Incorrect username or password'\n      })\n    })\n}\n\nexport const logout = () => dispatch => {\n  return axios.post('/api/logout')\n    .then(response => {\n      dispatch({\n        type: SESSION_END\n      })\n    })\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/common/actions/session.js","export const SESSION_START = 'SESSION_START'\nexport const SESSION_END = 'SESSION_END'\nexport const SESSION_START_FAILED = 'SESSION_START_FAILED'\nexport const SET_USER = 'SET_USER'\n\n\n\n// WEBPACK FOOTER //\n// ./src/common/actions/types.js"],"sourceRoot":""}