{"version":3,"sources":["webpack:///./src/App.js","webpack:///./src/store.js","webpack:///./src/common/reducers/index.js","webpack:///./src/common/reducers/session.js","webpack:///./src/dashboard/Dashboard.js","webpack:///./src/gateway/Gateway.js","webpack:///./src/index.js","webpack:///./src/rootReducer.js","webpack:///./src/common/actions/session.js","webpack:///./src/common/actions/types.js"],"names":["App","props","checkingSession","store","hasSession","mapStateToProps","session","INITIAL_STATE","sessionError","state","action","type","payload","Dashboard","handleSubmit","event","preventDefault","logout","Component","Gateway","handlePasswordChange","setState","password","target","value","handleUserNameChange","username","login","error","dispatch","render","document","getElementById","checkSession","get","then","response","post","data","console","log","catch","err","message","SESSION_START","SESSION_END","SESSION_START_FAILED","SET_USER"],"mappings":"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","file":"app.js","sourcesContent":["import React from 'react'\nimport {connect, Provider} from 'react-redux'\nimport {Route, BrowserRouter as Router} from 'react-router-dom'\nimport Gateway from 'gateway/Gateway'\nimport Dashboard from 'dashboard/Dashboard'\n\nconst App = props => {\n  if (props.checkingSession) {\n    return <div></div>\n  }\n\n  return (\n    <Provider store={props.store}>\n      <Router>\n        {props.hasSession\n          ? <Dashboard />\n          : <Gateway />\n        }\n      </Router>\n    </Provider>\n  )\n}\n\nconst mapStateToProps = ({session}) => ({...session})\n\nexport default connect(mapStateToProps, {})(App)\n\n\n\n// WEBPACK FOOTER //\n// ./src/App.js","import {createStore, applyMiddleware} from 'redux'\nimport ReduxThunk from 'redux-thunk'\nimport rootReducer from './rootReducer'\n\nexport default createStore(rootReducer, applyMiddleware(ReduxThunk))\n\n\n\n// WEBPACK FOOTER //\n// ./src/store.js","import sessionReducer from './session'\n\nexport default {\n  session: sessionReducer\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/common/reducers/index.js","import {\n  SESSION_START,\n  SESSION_END,\n  SESSION_START_FAILED\n} from 'common/actions/types'\n\nconst INITIAL_STATE = {\n  checkingSession: true,\n  hasSession: false,\n  sessionError: ''\n}\n\nexport default (state = INITIAL_STATE, action) => {\n  switch (action.type) {\n    case SESSION_START:\n      return {\n        checkingSession: false,\n        hasSession: true,\n        sessionError: ''\n      }\n    case SESSION_END:\n      return {\n        checkingSession: false,\n        hasSession: false,\n        sessionError: ''\n      }\n    case SESSION_START_FAILED:\n      return {\n        checkingSession: false,\n        hasSession: false,\n        sessionError: action.payload\n      }\n  }\n  return state\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/common/reducers/session.js","import {connect} from 'react-redux'\nimport React from 'react'\nimport {logout} from 'common/actions/session'\n\nclass Dashboard extends React.Component {\n  handleSubmit = event => {\n    event.preventDefault()\n    this.props.logout()\n  }\n  render () {\n    return (\n      <div>\n        <form onSubmit={this.handleSubmit}>\n          <button>logout</button>\n        </form>\n      </div>\n    )\n  }\n}\n\nconst mapStateToProps = () => {\n  return {}\n}\nexport default connect(mapStateToProps, {logout})(Dashboard)\n\n\n\n// WEBPACK FOOTER //\n// ./src/dashboard/Dashboard.js","import {connect} from 'react-redux'\nimport React from 'react'\nimport {login} from 'common/actions/session'\n\nclass Gateway extends React.Component {\n  constructor (props) {\n    super(props)\n    this.state = {\n      username: '',\n      password: '',\n      error: ''\n    }\n  }\n  handlePasswordChange = event => {\n    this.setState({\n      password: event.target.value\n    })\n  }\n  handleUserNameChange = event => {\n    this.setState({\n      username: event.target.value\n    })\n  }\n  handleSubmit = event => {\n    event.preventDefault()\n    this.props.login(this.state.username, this.state.password)\n  }\n  render () {\n    return (\n      <form onSubmit={this.handleSubmit}>\n        {\n          this.state.error !== '' &&\n            <p>{this.state.error}</p>\n        }\n        <div>\n          <label>\n            <strong>Username</strong>\n          </label><br />\n          <input type=\"text\"\n            required\n            value={this.state.username}\n            onChange={this.handleUserNameChange}/>\n        </div>\n        <div>\n          <label>\n            <strong>Password</strong>\n          </label><br />\n          <input type=\"password\"\n            required\n            value={this.state.password}\n            onChange={this.handlePasswordChange}/>\n        </div>\n        <button>Login</button>\n      </form>\n    )\n  }\n}\n\nconst mapStateToProps = ({session}) => ({error: session.sessionError})\nexport default connect(mapStateToProps, {login})(Gateway)\n\n\n\n// WEBPACK FOOTER //\n// ./src/gateway/Gateway.js","import React from 'react'\nimport ReactDOM from 'react-dom'\nimport store from 'store'\nimport App from './App'\nimport {checkSession} from 'common/actions/session'\n\nstore.dispatch(checkSession())\n\nReactDOM.render(\n  <App store={store}/>,\n  document.getElementById('root')\n)\n\n\n\n// WEBPACK FOOTER //\n// ./src/index.js","import {combineReducers} from 'redux'\n\nimport commonReducers from 'common/reducers'\n\nexport default combineReducers({\n  ...commonReducers\n})\n\n\n\n// WEBPACK FOOTER //\n// ./src/rootReducer.js","import axios from 'axios'\nimport {\n  SESSION_START,\n  SESSION_END,\n  SESSION_START_FAILED\n} from './types'\n\nexport const checkSession = () => dispatch => {\n  return axios.get('/api/check-session')\n    .then(response => {\n      if (response === 'hasSession') {\n        dispatch({\n          type: SESSION_START\n        })\n      } else {\n        dispatch({\n          type: SESSION_END\n        })\n      }\n    })\n}\n\nexport const login = (username, password) => dispatch => {\n  return axios.post('/api/login', {username, password})\n    .then(({data}) => {\n      console.log(data)\n      dispatch({\n        type: SESSION_START\n      })\n    })\n    .catch(err => {\n      dispatch({\n        type: SESSION_START_FAILED,\n        payload: err.message || 'Incorrect username or password'\n      })\n    })\n}\n\nexport const logout = () => dispatch => {\n  return axios.post('/api/logout')\n    .then(response => {\n      dispatch({\n        type: SESSION_END\n      })\n    })\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/common/actions/session.js","export const SESSION_START = 'SESSION_START'\nexport const SESSION_END = 'SESSION_END'\nexport const SESSION_START_FAILED = 'SESSION_START_FAILED'\nexport const SET_USER = 'SET_USER'\n\n\n\n// WEBPACK FOOTER //\n// ./src/common/actions/types.js"],"sourceRoot":""}